num = 1
num = 1
filname =testfil , filsize = 1048576
conn->need_count = 16
返回conn 完成
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
num = 1
加入队列成功
num = 1
加入队列成功
num = 1
加入队列成功
num = 1
加入队列成功
num = 1
加入队列成功
num = 1
加入队列成功
num = 1
加入队列成功
num = 1
加入队列成功
num = 1
加入队列成功
 线程 140182661314304 进入work
头部读取完成 
读取数据部分
 线程 140182501852928 进入work
 线程 140182745241344 进入work
 线程 140182736848640 进入work
 线程 140182728455936 进入work
 线程 140182720063232 进入work
 线程 140182711670528 进入work
 线程 140182703277824 进入work
 线程 140182694885120 进入work
num = 1
加入队列成功
num = 1
加入队列成功
num = 1
加入队列成功
 线程 140182686492416 进入work
 线程 140182678099712 进入work
 线程 140182669707008 进入work
num = 1
加入队列成功
 线程 140182652921600 进入work
num = 1
加入队列成功
 线程 140182644528896 进入work
num = 1
加入队列成功
 线程 140182636136192 进入work
num = 1
加入队列成功
 线程 140182627743488 进入work
头部读取完成 
读取数据部分
头部读取完成 
读取数据部分
头部读取完成 
读取数据部分
头部读取完成 
读取数据部分
头部读取完成 
读取数据部分
头部读取完成 
读取数据部分
头部读取完成 
读取数据部分
Segmentation fault